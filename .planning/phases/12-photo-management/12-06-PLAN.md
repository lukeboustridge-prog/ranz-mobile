---
phase: 12-photo-management
plan: 06
type: execute
wave: 4
depends_on: ["12-05"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "Gallery displays photos with thumbnails"
    - "Full-screen viewer opens with pinch-to-zoom"
    - "Grouping by date/element/tag works"
    - "Filters narrow down visible photos"
    - "Annotation workflow saves correctly"
---

<objective>
Human verification of photo management features

Purpose: Verify all Phase 12 features work correctly on a real device before proceeding. This checkpoint ensures the gallery, viewer, filtering, grouping, and annotation workflows function as designed.

Output: User confirmation that photo management features work correctly, or list of issues to address.
</objective>

<execution_context>
@C:\Users\LukeBoustridge\.claude/get-shit-done/workflows/execute-plan.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/12-photo-management/12-01-SUMMARY.md
@.planning/phases/12-photo-management/12-02-SUMMARY.md
@.planning/phases/12-photo-management/12-03-SUMMARY.md
@.planning/phases/12-photo-management/12-04-SUMMARY.md
@.planning/phases/12-photo-management/12-05-SUMMARY.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Complete photo management system including:
1. Thumbnail service generating 200px thumbnails at capture
2. Photo gallery hook with filtering and grouping
3. Full-screen viewer with pinch-to-zoom and swipe navigation
4. Gallery screen with group tabs and filter sheet
5. Enhanced annotation workflow integrated with gallery
  </what-built>
  <how-to-verify>
**Prerequisites:**
- App running on device or simulator: `npx expo start`
- At least 5-10 test photos captured with different:
  - Photo types (Overview, Detail, Context)
  - Quick tags (Defect, Good, Inaccessible)
  - Some with GPS, some without

**Test 1: Thumbnail Generation**
1. Capture a new photo
2. Check that thumbnail appears quickly in grid (not full-res image)
3. Verify smooth scrolling in grid with 10+ photos

**Test 2: Gallery Grouping**
1. Open photo gallery
2. Tap "By Date" tab - verify photos grouped by date
3. Tap "By Tag" tab - verify photos grouped by quick tag
4. Tap "By Element" tab - verify grouping by element (or "General")
5. Tap "All" tab - verify all photos in single list

**Test 3: Gallery Filtering**
1. Tap filter button in gallery header
2. Select "Defect" tag filter - verify only defect-tagged photos shown
3. Clear filters - verify all photos return
4. Try photo type filter - verify correct filtering
5. Check photo count updates correctly

**Test 4: Full-Screen Viewer**
1. Tap a photo to open full-screen viewer
2. Pinch to zoom in (should zoom to 5x max)
3. Double-tap to zoom to 2x
4. Swipe left/right to navigate photos
5. Verify photo counter updates (e.g., "3 / 12")
6. Check metadata overlay shows date, GPS, type
7. Close viewer with close button

**Test 5: Annotation Flow**
1. From full-screen viewer, tap "Annotate" button
2. Add an arrow annotation
3. Add a text label
4. Save annotations
5. Verify success message appears
6. Return to gallery - verify annotation indicator on photo
7. Re-open photo - verify annotations visible
8. Edit annotations - verify existing annotations load

**Test 6: Evidence Integrity**
1. Annotate a photo
2. Verify original is NOT modified (annotation saves to separate file)
3. Check that "View Original" option shows un-annotated photo

Report any issues found with:
- Which test failed
- Expected behavior
- Actual behavior
- Device/simulator info
  </how-to-verify>
  <resume-signal>Type "approved" if all tests pass, or describe issues found</resume-signal>
</task>

</tasks>

<verification>
User confirms all manual verification tests pass.
</verification>

<success_criteria>
- All six test categories pass
- Photos display with thumbnails in gallery
- Grouping works for all modes
- Filters correctly narrow results
- Full-screen viewer has working zoom/swipe
- Annotation workflow saves and loads correctly
- Evidence integrity maintained
</success_criteria>

<output>
After completion, create `.planning/phases/12-photo-management/12-06-SUMMARY.md`
</output>
